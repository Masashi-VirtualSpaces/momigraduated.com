<!doctype HTML>
<html>
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>

<script src="https://rawgit.com/protyze/aframe-curve-component/master/dist/aframe-curve-component.min.js"></script>
<script src="https://rawgit.com/protyze/aframe-alongpath-component/master/dist/aframe-alongpath-component.min.js"></script>
<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
<script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
<script src="https://unpkg.com/aframe-template-component@^3.2.1/dist/aframe-template-component.min.js"></script>
<body style='margin: 0px; overflow: hidden;'>
	<!-- enable arjs on this scene -->
	<a-scene >
        <a-assets>
            <script id="explosion" type="text/html">
                <a-entity rotation="90 0 0" position="0 0 3" scale="0.2 0.2 0.2" particle-system="color: #EF0000,#44CC00; maxAge: 2; maxParticleCount: 25; size:0.15; positionSpread:{0.2 0.2 0.2}; velocityValue:{0 5 0}";></a-entity>
            </script>
        </a-assets>
            <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E" shadow></a-sphere>
            <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D" shadow></a-cylinder>
            <a-plane id="cap" position="0 0 0" scale="0.5 0.5 0.5" rotation="-90 0 0" width="4" height="4" color="#7BC8A4" shadow></a-plane>
            <a-sky color="#ECECEC"></a-sky>

            <a-entity camera camera wasd-controls look-controls position="0 2 0"> <a-cursor fuse="false" color="yellow"></a-cursor> </a-entity>
           
    </a-scene>
    <script>
            var targetEl = document.querySelector('#cap');
            targetEl.addEventListener('click', function() {
              var cap = document.querySelector('#cap');
              var test = document.querySelector("#cap");
              test.setAttribute('material', {color: 'red'});
              var explosion = document.createElement('a-entity');
              explosion.setAttribute('template',"src:#explosion");
              cap.appendChild(explosion);
            });
          </script>
</body>

</html>

